\newcommand{\addplotStatistics}[1]{
	   \addplot[xshift=0pt,draw=none,line width=0.15pt, fill=black]
	   table[ y=number_string, col sep=comma, x=dataset_name] {#1};
     \label{string}; 

     \addplot[xshift=0pt,draw=none,line width=0.15pt, fill=tug]
	   table[ y=number_int, col sep=comma, x=dataset_name] {#1};
     \label{int};  
     
     \addplot[xshift=0pt,draw=none,line width=0.15pt, fill=tugb]
	   table[ y=number_float, col sep=comma, x=dataset_name] {#1};
     \label{float};

     \addplot[xshift=0pt,draw=none,line width=0.15pt, fill=color4]
	   table[ y=number_bool, col sep=comma, x=dataset_name] {#1};
     \label{bool};
};

\begin{tikzpicture}%
  \begin{axis}[   
    %every axis plot post/.style={/pgf/number format/fixed},     
    every major tick/.append style={ thick,major tick length=2.5pt, gray},
    axis line style={black}, 
    enlarge y limits={0.03,upper},
    enlarge x limits=0.03,
    ybar stacked,      
    log ticks with fixed point,
    %x tick label style={/pgf/number format/1000 sep={}},
    scaled y ticks=false,
    ylabel={Attribute's Count},
    xtick align=outside,
    xtick pos=left,
    ytick pos=left,
    yticklabel style = {font=\normalsize},
    ylabel style = {font=\normalsize, yshift=0pt, xshift=-2pt},
    xticklabel style = {font=\footnotesize, xshift=0pt, yshift=4pt, rotate=35, anchor=north east},
    height=0.47\columnwidth,
    width=1\columnwidth,     
    ymajorgrids=true,
    grid style=dotted,   
    minor grid style={gray!50}, 
    xtick = data,
    symbolic x coords={Skin,Diabetes,Tic-Tac-Toe,Breast-w,Credit-g,Higgs,Balance-Scale,Walking-Activity,Jungle-Chess,CMC,Traffic,Black-Friday,Bike-Sharing,NYC,House-Sales}, 
    legend image code/.code={\draw [#1] (0cm,-0.12cm) rectangle (0.25cm,0.12cm); }, 
    ] 
    \addplotStatistics{../archive/SIGMOD2025-Results/statistics/dataset_overview_small.dat}

  \end{axis}   

  \node [draw=none,inner sep=0, font=\normalsize, anchor=west] (leg1) at (rel axis cs: 0.3,1.07) {\shortstack[l]{
			\ref{string} String   \ref{int} Int  \ref{float} Float  \ref{bool} Bool				 			
	}};

%   \node [draw=none,inner sep=0, font=\normalsize, anchor=west, right=of leg1, xshift=-15pt] (leg2) {\shortstack[l]{
%     \ref{float} Float \\
%     \ref{bool} Bool		 			
% }};  
\end{tikzpicture}

%Skin,Diabetes,Tic-Tac-Toe,Breast-w,Credit-g,Higgs,Nomao,Balance-Scale,Walking-Activity,Jungle-Chess,CMC,Traffic,Gas-Drift,Volkert,Black-Friday,Bike-Sharing,NYC,House-Sales