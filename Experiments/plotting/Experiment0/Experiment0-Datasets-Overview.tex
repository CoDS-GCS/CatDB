\newcommand{\addplotStatistics}[1]{
	   \addplot[xshift=0pt,draw=none,line width=0.15pt, fill=tug]
	   table[ y=number_string, col sep=comma, x=dataset_name] {#1};
     \label{string}; 

     \addplot[xshift=0pt,draw=none,line width=0.15pt, fill=tugb]
	   table[ y=number_int, col sep=comma, x=dataset_name] {#1};
     \label{int};  
     
     \addplot[xshift=0pt,draw=none,line width=0.15pt, fill=color3]
	   table[ y=number_float, col sep=comma, x=dataset_name] {#1};
     \label{float};

     \addplot[xshift=0pt,draw=none,line width=0.15pt, fill=color4]
	   table[ y=number_bool, col sep=comma, x=dataset_name] {#1};
     \label{bool};
};

\begin{tikzpicture}%
  \begin{axis}[   
    %every axis plot post/.style={/pgf/number format/fixed},     
    every major tick/.append style={ thick,major tick length=2.5pt, gray},
    axis line style={black}, 
    enlarge y limits={0.03,upper},
    enlarge x limits=0.03,
    ybar stacked,      
    log ticks with fixed point,
    %x tick label style={/pgf/number format/1000 sep={}},
    scaled y ticks=false,
    ylabel={Attribute's Count},
    xtick align=outside,
    xtick pos=left,
    ytick pos=left,
    yticklabel style = {font=\normalsize},
    ylabel style = {font=\normalsize, yshift=0pt, xshift=-2pt},
    xticklabel style = {font=\footnotesize, xshift=0pt, yshift=4pt, rotate=35, anchor=north east},
    height=0.44\columnwidth,
    width=1.4\columnwidth,     
    ymajorgrids=true,
    grid style=dotted,   
    minor grid style={gray!50}, 
    xtick = data,
    symbolic x coords={Balance-Scale,Breast-w,CMC,Credit-g,Diabetes,Tic-Tac-Toe,Eucalyptus,PC1,Jungle-Chess,Higgs,Skin,Traffic,Walking-Activity,Black-Friday,Bike-Sharing,House-Sales,NYC,Airlines-DepDelay}, 
    legend image code/.code={\draw [#1] (0cm,-0.1cm) rectangle (0.2cm,0.15cm); },
    ] 
    \addplotStatistics{../archive/SIGMOD2025-Results/statistics/dataset_overview.dat}

  \end{axis}   

  \node [draw=none,inner sep=0, font=\normalsize, anchor=west] (leg1) at (rel axis cs: 0.05,0.80) {\shortstack[l]{
			\ref{string} String \\
      \ref{int} Int 		 			
	}};

  \node [draw=none,inner sep=0, font=\normalsize, anchor=west, right=of leg1, xshift=-15pt] (leg2) {\shortstack[l]{
    \ref{float} Float \\
    \ref{bool} Bool		 			
}};  
\end{tikzpicture}


% \pgfplotsset{
%  every non boxed x axis/.style={},
%  scaled y ticks=false,
%     xticklabel style={
%         /pgf/number format/fixed,
%         /pgf/number format/precision=1
%     },
% };

% \begin{tikzpicture}[node distance=6.0mm]%
%   \begin{groupplot}[
%     group style={
%         group name=my fancy plots,
%         group size=1 by 2,
%         xticklabels at=edge bottom,
%         vertical sep=0pt
%     },
%     every axis plot post/.style={/pgf/number format/fixed},
%     major x tick style = {draw=none},
%     xtick style={draw=none},		
%     every major tick/.append style={ line width=0.10mm,major tick length=2pt, gray},
%     axis line style={gray, line width=0.10mm}, 
%     ybar stacked,      
%     log ticks with fixed point,
%     x tick label style={/pgf/number format/1000 sep={}},
%     scaled y ticks=false,
%    % enlarge y limits={0.013,upper},
%    % ylabel={},
%     ytick align=outside,
%     xtick pos=left,
%     ytick pos=left,
%     yticklabel style = {font=\scriptsize},
%     ylabel style = {font=\scriptsize, yshift=-1pt},
%     xticklabel style = {font=\scriptsize, xshift=0pt,yshift=2pt ,rotate=90},
%     height=.1\columnwidth,
%     width=1\columnwidth,     
%     ymajorgrids=true,
%     grid style=dotted,   
%     minor grid style={gray!50}, 
%     xtick = data,
%     symbolic x coords={Higgs,Albert,Click-Prediction,Census,Heart-Statlog,KDDCup99,Road-Safety,Drug-Directory,Okcupid-Stem,Walking-Activity,PASS,Aloi,MD-MIX-Mini,Dionis,Meta-Album-BRD,Balance-Scale,Breast-w,CMC,Credit-g,Diabetes,Tic-Tac-Toe,Eucalyptus,PC1,Airlines,Jungle-Chess}, 
%     legend image code/.code={\draw [#1] (0cm,-0.1cm) rectangle (0.1cm,0.08cm); },
% ]%
% % % top
% % \nextgroupplot[ymin=80,ymax=140,
% %                ytick={80,140},
% %                yticklabels={80,140},
% %                axis x line=top, 
% %                axis y discontinuity=crunch,
% %                height=0.22\columnwidth,
% %                bar width=5pt,
% %                enlarge x limits=0.02,
% %                scaled y ticks=false,
% %                enlarge y limits={0,upper},
% %                ylabel={},
% %                ]%
% % \addplotStatistics{}{};	            
% % bellow
% \nextgroupplot[ymin=0,ymax=80,overlay,
%                ytick={0,20,40,60},
%                yticklabels={0,20,40,60},
%                axis x line=bottom,
%                height=0.3\columnwidth,
%                bar width=5pt,
%                ylabel={Attribute's Count},
%                enlarge x limits=0.02,
%                scaled y ticks=false,
%                enlarge y limits={0,upper},
%                ]
%                %
% %
% \addplotStatistics{}{};	
% \end{groupplot}
% \path(current axis.south) -- ++(-4.2cm,-1.7cm);
% \node [draw=none,inner sep=0, font=\scriptsize, anchor=west] (leg1) at (rel axis cs: 0.75,0) {\shortstack[l]{
% 			\ref{string} String \\
%       \ref{int} Int 		 			
% 	}};

%   \node [draw=none,inner sep=0, font=\scriptsize, anchor=west, right=of leg1, xshift=-15pt] (leg2) {\shortstack[l]{
%     \ref{float} Float \\
%     \ref{bool} Bool		 			
% }};  
% \end{tikzpicture}
